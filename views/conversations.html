<div id="loadConvs" ng-show="!loadingConvs">
    <div>
        Loading all of your app's conversations. This may take a minute or two. </br>
        </br>
        <i class="fa fa-circle-o-notch fa-spin fa-3x fa-fw" id="cyanLoad"></i>
    </div>
</div>

<div class="container">

    <h2> Conversations </h2>

    <button ng-click="dateToggle()" class="btn btn-primary">Filter Date</button>
    <button ng-click="inputToggle()" class="btn btn-primary">Search Conversations</button>

    <form ng-show="timeFilter" id="timeTableForm">
        <select class="form-control col-md-10" id="timeTable" ng-model="dates">
            <option>30 Days</option>
            <option>60 Days</option>
            <option>90 Days</option>
            <option>120 Days</option>
            <option>Past Year</option>
            <option>Show All</option>
        </select>
        <button ng-click="dateToggle()" class="btn btn-outline-primary col-md-1">Hide</button>
    </form>

    <div ng-show="searchFilter">
        <input class="form-control col-md-10" id="searchConvs" ng-model="search" 
        type="text" placeholder="Search Conversations"/>
        <button ng-click="inputToggle()" class="btn btn-outline-primary col-md-1">Hide</button>
    </div>

    <p>{{ getName('5887d6d9b3366404b4915db1') }}</p>

    <div class="row" ng-show="loadingConvs">
        <table class="convos table-striped">
            <thead>
                <tr>
                    <th>Message</th>
                    <th>User</th>
                    <th>Assigned</th>
                    <th>Created</th>
                    <th>Updated</th>
                    <th>Tags</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="conv in allConvs | filter: search | filter: dates">
                    <td>{{ removeTags(conv.conversation_message.body) }} </td>
                    <td>{{ conv.conversation_message.author.id }} </td>
                    <td>{{ conv.assignee.id }} </td>
                    <td>{{ getDate(conv.created_at) }} </td>
                    <td>{{ getDate(conv.updated_at) }} </td>
                    <td> {{ conv.tags.tags }} </td>
                </tr>
            </tbody>
        </table>
        <!-- <div class="currentConversations col-md-2">
            <h3>Current Conversations</h3>
            <p>
                <p>
                    Open: {{ countdata.open }}
                    <br/> Closed: {{ countdata.closed }}
                    <br/> Unassigned: {{ countdata.unassigned }}
                    <br/> Assigned: {{ countdata.assigned }}
                </p>
            </p>
        </div> -->
    </div>

</div>